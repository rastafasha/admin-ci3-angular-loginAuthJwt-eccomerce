<div class="row">

    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Mi perfil de usuario</h4>
                <h6 class="card-subtitle">{{pageSubTitle}}</h6>
                <form class="form p-t-20" [formGroup]="perfilForm" (submit)="actualizarPerfil()">
                    <input type="hidden" formControlName="id">



                    <div class="form-group">
                        <label for="exampleInputuname">Nombre</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-user"></i></div>
                            <input type="text" formControlName="first_name" class="form-control" placeholder="nombre">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputApellido">Apellido</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-user"></i></div>
                            <input type="text" formControlName="last_name" class="form-control" placeholder="apellido">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputUsername">Username</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-user"></i></div>
                            <input type="text" formControlName="username" class="form-control" placeholder="username">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail">Email address</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-email"></i></div>
                            <input *ngIf="!usuario.email" type="email" formControlName="google" [readOnly]="usuario.google" class="form-control" placeholder="google">
                            <input *ngIf="usuario.email" type="email" formControlName="email" [readOnly]="usuario.email" class="form-control" placeholder="email">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPais">Role</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-user"></i></div>
                            <input type="text" *ngFor="let rol of listRoles; index as i" [value]="rol.role_name" [readOnly]="usuario.role_id" class="form-control">
                        </div>
                    </div>




                    <div class="form-group">
                        <label for="exampleInputEmail">Tipo Registro </label>
                        <span *ngIf="!usuario.email" class="label label-danger">Google</span>
                        <span *ngIf="usuario.email" class="label label-info">Email</span>
                    </div>

                    <button type="submit" [disabled]="perfilForm.invalid" class="btn btn-success waves-effect waves-light m-r-10 btn-block">
                     <i class="fa fa-save"></i> Guardar cambios
                    </button>
                </form>
            </div>
        </div>
    </div>
    <div class="col-md-6" *ngIf="usuario">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Avatar</h4>
                <h6 class="card-subtitle">Imagen de usuario</h6>
                <div class="text-center">

                    <img *ngIf="!usuario.img" [src]="usuario.img | imagenPipe: 'users'" class="img-avatar img-thumbnail">
                    <img *ngIf="usuario.img" [src]="usuario.img " class="img-avatar img-thumbnail">
                </div>
                <input type="file" (change)="cambiarImagen($event.target.files[0])">
                <br>
                <br>
                <button type="button" [disabled]="!imagenSubir" (click)="subirImagen()" class="btn btn-success waves-effect waves-light m-r-10 btn-block">
                  <i class="fa fa-save"></i> Cambiar imagen
                 </button>
            </div>
        </div>
    </div>
</div>
